{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
     "ControlledField": {
      "type": "object",
      "properties": {
        "scheme": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      },
      "description": "To represent the information described by a scheme and a value in that scheme (i.e. pid)"
    },
    "Provenance": {
      "type": "object",
      "properties": {
        "provenance": {
          "type": "string",
          "description": "The process that produced/provided the information"
        },
        "trust": {
          "type": "string"
        }
      },
      "description": "Indicates the process that produced (or provided) the information, and the trust associated to the information"
    }
  },
  "type": "object",
  "properties": {
    "author": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "fullname": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "pid": {
            "type": "object",
            "properties": {
              "id": {
                "allOf": [
                  {"$ref": "#/definitions/ControlledField"},
                  {"description": "The author's id and scheme. OpenAIRE currently supports 'ORCID'"}
                ]
              },
              "provenance": {
                "allOf": [
                  {"$ref": "#/definitions/Provenance"},
                  {"description": "Provenance of author's pid"}
                ]
              }
            }
          },
          "rank": {
            "type": "integer"
          },
          "surname": {
            "type": "string"
          }
        }
      }
    },
     "bestaccessright":{
       "type":"object",
       "properties":{
         "code": {
           "type": "string",
           "description": "COAR access mode code: http://vocabularies.coar-repositories.org/documentation/access_rights/"
         },
         "label": {
           "type": "string",
           "description": "Label for the access mode"
         },
        "scheme": {
           "type": "string",
           "description": "Scheme of reference for access right code. Always set to COAR access rights vocabulary: http://vocabularies.coar-repositories.org/documentation/access_rights/"
         }
       }
      },
    "codeRepositoryUrl": {
      "type": "string",
      "description": "Only for results with type 'software': the URL to the repository with the source code"
    },
    "contactgroup": {
      "description": "Only for results with type 'software': Information on the group responsible for providing further information regarding the resource",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "contactperson": {
      "description": "Only for results with type 'software': Information on the person responsible for providing further information regarding the resource",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "container": {
      "type": "object",
      "properties": {
        "conferencedate": {
          "type": "string"
        },
        "conferenceplace": {
          "type": "string"
        },
        "edition": {
          "type": "string",
          "description": "Edition of the journal or conference proceeding"
        },
        "ep": {
          "type": "string",
          "description": "End page"
        },
        "iss": {
          "type": "string",
          "description": "Journal issue"
        },
        "issnLinking": {
          "type": "string"
        },
        "issnOnline": {
          "type": "string"
        },
        "issnPrinted": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "Name of the journal or conference"
        },
        "sp": {
          "type": "string",
          "description": "start page"
        },
        "vol": {
          "type": "string"
        }
      },
      "description": "Container has information about the conference or journal where the result has been presented or published"
    },
    "contributor": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "Contributors for the result"
      }
    },
    "country": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code"
          },
          "label": {
            "type": "string"
          },
          "provenance": {
            "allOf": [
              {"$ref": "#/definitions/Provenance"},
              {"description": "Why this result is associated to the country."}
            ]
          }
        }
      }
    },
    "coverage": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "dateofcollection": {
      "type": "string",
      "description": "When OpenAIRE collected the record the last time"
    },
    "description": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "documentationUrl": {
      "description": "Only for results with type 'software': URL to the software documentation",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "embargoenddate": {
      "type": "string",
      "description": "Date when the embargo ends and this result turns Open Access"
    },
    "format": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "geolocation": {
      "description": "Geolocation information",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "box": {
            "type": "string"
          },
          "place": {
            "type": "string"
          },
          "point": {
            "type": "string"
          }
        }
      }
    },
    "id": {
      "type": "string",
      "description": "OpenAIRE Identifier"
    },
        "instance":{
      "description":"Each instance is one specific materialisation or version of the result. For example, you can have one result with three instance: one is the pre-print, one is the post-print, one is te published version",
      "type":"array",
      "items":{
        "type":"object",
        "properties":{
          "accessright":{
            "type":"object",
            "properties":{
              "code": {
                "type": "string",
                "description": "COAR access mode code: http://vocabularies.coar-repositories.org/documentation/access_rights/"
              },
              "label": {
                "type": "string",
                "description": "Label for the access mode"
              },
              "openAccessRoute":{
                "type":"string",
                "enum":[
                  "gold",
                  "green",
                  "hybrid",
                  "bronze"
                ],
                "description":"The type of OpenAccess applied to the result"
              },
              "scheme": {
                "type": "string",
                "description": "Scheme of reference for access right code. Always set to COAR access rights vocabulary: http://vocabularies.coar-repositories.org/documentation/access_rights/"
              }
            }
          },
          "articleprocessingcharge":{
            "description": "The money spent to make this book or article available in Open Access. Source for this information is the OpenAPC initiative.",
            "type":"object",
            "properties":{
              "amount":{
                "type":"string"
              },
              "currency":{
                "type":"string"
              }
            }
          },
          "license":{
            "type":"string"
          },
          "pid":{
                  "description":"The set of persistent identifiers associated to this instance that have been collected from an authority for the pid type (i.e. Crossref/Datacite for doi)",
                  "type":"array",
                  "items":{
                     "allOf":[
                        {
                           "$ref":"#/definitions/ControlledField"
                        },
                        {
                           "description":"The persistent identifier associated to the result"
                        }
                     ]
                  }
               },
          "publicationdate":{
            "type":"string",
            "description": "Date of the research product"
          },
          "refereed":{
            "description": "If this instance has been peer-reviewed or not. Allowed values are peerReviewed, nonPeerReviewed, UNKNOWN (as defined in https://api.openaire.eu/vocabularies/dnet:review_levels)",
            "type":"string"
          },
          "type":{
            "type":"string",
            "description":"The specific sub-type of this instance (see https://api.openaire.eu/vocabularies/dnet:result_typologies following the links)"
          },
          "url":{
            "description":"URLs to the instance. They may link to the actual full-text or to the landing page at the hosting source. ",
            "type":"array",
            "items":{
              "type":"string"
            }
          }
        }
      }
    },
    "language": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "alpha-3/ISO 639-2 code of the language"
        },
        "label": {
          "type": "string",
          "description": "Language label in English"
        }
      }
    },
    "lastupdatetimestamp": {
      "type": "integer",
      "description": "Timestamp of last update of the record in OpenAIRE"
    },
    "maintitle": {
      "type": "string",
      "descriptio": "A name or title by which a scientific result is known. May be the title of a publication, of a dataset or the name of a piece of software."
    },
    "subtitle": {
      "type": "string",
      "descriptio": "Explanatory or alternative name by which a scientific result is known."
    },
    "originalId": {
      "description": "Identifiers of the record at the original sources",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "pid": {
      "description": "Persistent identifiers of the result",
      "type": "array",
      "items": {
        "allOf": [
          {"$ref": "#/definitions/ControlledField"},
          {"description": "scheme: list of available schemes are at https://api.openaire.eu/vocabularies/dnet:pid_types, value: the PID of the result. Note: the result will have a pid associated only if it was collected from an authority for that pid type. For example a doi will be among the pids for one result if the result metadata were collected from Crossref or Datacite. In all the other cases, the doi will be present among the alteranteIdentifiers for the result "}
        ]
      }
    },
    "programmingLanguage": {
      "type": "string",
      "description": "Only for results with type 'software': the programming language"
    },
    "publicationdate": {
      "type": "string",
      "description": "Main date of the research product: typically the publication or issued date. In case of a research result with different versions with different dates, the date of the result is selected as the most frequent well-formatted date. If not available, then the most recent and complete date among those that are well-formatted. For statistics, the year is extracted and the result is counted only among the result of that year. Example: Pre-print date: 2019-02-03, Article date provided by repository: 2020-02, Article date provided by Crossref: 2020, OpenAIRE will set as date 2019-02-03, because it’s the most recent among the complete and well-formed dates. If then the repository updates the metadata and set a complete date (e.g. 2020-02-12), then this will be the new date for the result because it becomes the most recent most complete date. However, if OpenAIRE then collects the pre-print from another repository with date 2019-02-03, then this will be the “winning date” because it becomes the most frequent well-formatted date."
    },
    "publisher": {
      "type": "string",
      "description": "The name of the entity that holds, archives, publishes prints, distributes, releases, issues, or produces the resource."
    },
    "size": {
      "type": "string",
      "description": "Only for results with type 'dataset': the declared size of the dataset"
    },
    "source": {
      "description": "See definition of Dublin Core field dc:source",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "subjects": {
      "description": "Keywords associated to the result",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "provenance": {
            "allOf": [
              {"$ref": "#/definitions/Provenance"},
              {"description": "Why this subject is associated to the result"}
            ]
          },
          "subject": {
            "allOf": [
              {"$ref": "#/definitions/ControlledField"},
              {"description": "OpenAIRE subject classification scheme (https://api.openaire.eu/vocabularies/dnet:subject_classification_typologies) and value. When the scheme is 'keyword', it means that the subject is free-text (i.e. not a term from a controlled vocabulary)."}
            ]
          }
        }
      }
    },
    "tool": {
      "description": "Only for results with type 'other': tool useful for the interpretation and/or re-used of the research product",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "type": {
      "type": "string",
      "description": "Type of the result: one of 'publication', 'dataset', 'software', 'other' (see also https://api.openaire.eu/vocabularies/dnet:result_typologies)"
    },
    "version": {
      "type": "string",
      "description": "Version of the result"
    }
  }
}